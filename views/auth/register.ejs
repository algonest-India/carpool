<div class="row justify-content-center min-vh-100 align-items-center">
  <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5">
    <!-- Logo / Header -->
    <div class="text-center mb-4">
      <div class="emoji-xl" aria-hidden="true">üöó</div>
      <h1 class="h3 fw-bold">Carpool Connect</h1>
      <p class="text-muted">Create your account</p>
    </div>

    <!-- Card -->
    <div class="card shadow-lg border-0">
      <div class="card-body p-4">
        <!-- Error Alert -->
        <% if (typeof error !== 'undefined' && error) { %>
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>‚ö†Ô∏è Registration Failed</strong>
            <p class="mb-0"><%= error %></p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% } %>

        <!-- Registration Form -->
        <form action="/auth/register" method="POST" enctype="multipart/form-data" id="registerForm" novalidate>
          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input 
              type="email" 
              class="form-control form-control-lg" 
              id="email" 
              name="email" 
              placeholder="your@email.com"
              required
              autofocus
              aria-describedby="emailHelp emailError"
            >
            <small id="emailHelp" class="form-text text-muted">We'll send a confirmation email</small>
            <div id="emailError" class="invalid-feedback">Please enter a valid email address.</div>
          </div>

          <!-- Full Name -->
          <div class="mb-3">
            <label for="full_name" class="form-label">Full Name</label>
            <input 
              type="text" 
              class="form-control form-control-lg" 
              id="full_name" 
              name="full_name" 
              placeholder="Parm Singh"
              required
              minlength="2"
              aria-describedby="fullNameError"
            >
            <div id="fullNameError" class="invalid-feedback">Full name must be at least 2 characters.</div>
          </div>

          <!-- Phone Number -->
          <div class="mb-3">
            <label for="phone" class="form-label">Phone Number</label>
            <input 
              type="tel" 
              class="form-control form-control-lg" 
              id="phone" 
              name="phone" 
              placeholder="+91 9876543210"
              required
              pattern="[+]?[0-9\s\-\(\)]+"
              aria-describedby="phoneHelp phoneError"
            >
            <small id="phoneHelp" class="form-text text-muted">Include country code for international numbers</small>
            <div id="phoneError" class="invalid-feedback">Please enter a valid phone number.</div>
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <div class="input-group">
              <input 
                type="password" 
                class="form-control form-control-lg" 
                id="password" 
                name="password" 
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                required
                minlength="6"
                aria-describedby="passwordHelp passwordError"
              >
              <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                <i class="fas fa-eye" id="passwordIcon"></i>
              </button>
            </div>
            <small id="passwordHelp" class="form-text text-muted">At least 6 characters</small>
            <div id="passwordError" class="invalid-feedback">Please enter a stronger password (min 6 characters).</div>
          </div>

          <!-- Password Confirmation -->
          <div class="mb-3">
            <label for="password_confirm" class="form-label">Confirm Password</label>
            <div class="input-group">
              <input 
                type="password" 
                class="form-control form-control-lg" 
                id="password_confirm" 
                name="password_confirm" 
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                required
                minlength="6"
                aria-describedby="passwordConfirmError"
              >
              <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
                <i class="fas fa-eye" id="confirmPasswordIcon"></i>
              </button>
            </div>
            <div id="passwordConfirmError" class="invalid-feedback">Passwords do not match.</div>
          </div>

          <!-- Bio (Optional) -->
          <div class="mb-3">
            <label for="bio" class="form-label">Bio <small class="text-muted">(optional)</small></label>
            <textarea 
              class="form-control" 
              id="bio" 
              name="bio" 
              rows="2"
              placeholder="Tell us about yourself..."
              maxlength="200"
              aria-describedby="bioHelp"
            ></textarea>
            <small id="bioHelp" class="form-text text-muted">
              <span id="bioCharCount">0</span>/200 characters
            </small>
          </div>

          <!-- Avatar (Optional) -->
          <div class="mb-4">
            <label for="avatar" class="form-label">Profile Photo <small class="text-muted">(optional)</small></label>
            <input 
              type="file" 
              class="form-control form-control-lg" 
              id="avatar" 
              name="avatar" 
              accept="image/*"
              aria-describedby="avatarHelp avatarError"
            >
            <small id="avatarHelp" class="form-text text-muted">JPG, PNG, or GIF (Max 5MB)</small>
            <div id="avatarError" class="invalid-feedback">Please select a valid image file (max 5MB).</div>
            <div id="avatarPreview" class="mt-2"></div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary btn-lg w-100 fw-bold" id="submitBtn">
            <span id="submitText">Create Account</span>
            <span id="submitSpinner" class="spinner-border spinner-border-sm ms-2 d-none" role="status" aria-hidden="true"></span>
          </button>
        </form>
      </div>

      <!-- Divider -->
      <div class="border-top px-4 py-3">
        <!-- Login Link -->
        <p class="text-center mb-0">
          Already have an account? 
          <a href="/auth/login" class="fw-bold text-decoration-none">Sign In</a>
        </p>
      </div>
    </div>

    <!-- Terms -->
    <p class="text-center small text-muted mt-3">
      By registering, you agree to our Terms of Service and Privacy Policy
    </p>
  </div>
</div>

